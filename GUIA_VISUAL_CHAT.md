# ðŸŽ¨ Sistema de Chat - Guia Visual

## ðŸ“± Telas do Chat

### 1. Tela Inicial (Estado Vazio)

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  â†  [ðŸ‘¤] JoÃ£o Silva              â‰¡         â•‘
â•‘      ðŸŸ¢ Online                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                             â•‘
â•‘                                             â•‘
â•‘                   ðŸ’¬                        â•‘
â•‘                                             â•‘
â•‘        Nenhuma mensagem ainda               â•‘
â•‘                                             â•‘
â•‘     Envie uma mensagem para iniciar         â•‘
â•‘        a conversa com o cliente             â•‘
â•‘                                             â•‘
â•‘                                             â•‘
â•‘                                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Digite uma mensagem...             âœˆï¸     â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

### 2. Tela com ConversaÃ§Ã£o

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  â†  [ðŸ‘¤] JoÃ£o Silva              â‰¡         â•‘
â•‘      ðŸŸ¢ Online                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â•‘
â•‘  â”‚ JoÃ£o Silva               â”‚              â•‘
â•‘  â”‚ Onde vocÃª estÃ¡?          â”‚  14:30       â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â•‘
â•‘                                             â•‘
â•‘                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â•‘
â•‘            14:31 â”‚ Estou chegando! âœ“   â”‚  â•‘
â•‘                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â•‘
â•‘                                             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â•‘
â•‘  â”‚ JoÃ£o Silva               â”‚              â•‘
â•‘  â”‚ Ok, te aguardo           â”‚  14:32       â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â•‘
â•‘                                             â•‘
â•‘  JoÃ£o estÃ¡ digitando â€¢ â€¢ â€¢                 â•‘
â•‘                                             â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘  Estou no local              âœˆï¸            â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## ðŸŽ¨ Elementos de Interface

### Header do Chat

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â†  [Avatar] Nome do Cliente      â‹®    â”‚
â”‚     ðŸŸ¢ Status (Online/Offline)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Elementos:
- BotÃ£o Voltar (â†)
- Avatar do cliente (cÃ­rculo)
- Nome do cliente (bold)
- Indicador de status (ðŸŸ¢ðŸŸ¡ðŸ”´)
- Menu de opÃ§Ãµes (â‹®)
```

### BalÃ£o de Mensagem Recebida

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JoÃ£o Silva               â”‚ â† Nome (verde)
â”‚ OlÃ¡, tudo bem?           â”‚ â† Mensagem
â”‚                    14:30 â”‚ â† Hora
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Estilo:
- Fundo: Cinza claro (#E8F5E9)
- Alinhamento: Esquerda
- Cantos: Arredondados (topo: 16dp, inferior-esq: 4dp)
- Nome: Verde (#2E7D32)
```

### BalÃ£o de Mensagem Enviada

```
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      14:31 â”‚ Estou indo! âœ“       â”‚ â† Mensagem
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Estilo:
- Fundo: Verde (#2E7D32)
- Alinhamento: Direita
- Cantos: Arredondados (topo: 16dp, inferior-dir: 4dp)
- Texto: Branco
- Ãcone check: Branco
```

### Indicador de DigitaÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ JoÃ£o estÃ¡ digitando â€¢ â€¢ â€¢ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AnimaÃ§Ã£o:
- TrÃªs pontos pulsantes
- Cor: Cinza (#757575)
- Fundo: Cinza claro (#E8F5E9)
- AnimaÃ§Ã£o: Fade in/out sequencial
```

### Campo de Entrada

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Digite uma mensagem...      [âœˆï¸]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Estados:
- Vazio: BotÃ£o cinza
- Com texto: BotÃ£o verde
- Foco: Borda verde
- ExpansÃ­vel: 1-4 linhas
```

---

## ðŸŽ­ Estados Visuais

### 1. Conectando

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸŸ¡ Conectando...    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CaracterÃ­sticas:
- Ponto amarelo pulsante
- Texto "Conectando..."
- AnimaÃ§Ã£o de pulso
```

### 2. Online

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸŸ¢ Online           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CaracterÃ­sticas:
- Ponto verde pulsante
- Texto "Online"
- AnimaÃ§Ã£o suave
```

### 3. Offline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ðŸ”´ Offline          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CaracterÃ­sticas:
- Ponto vermelho estÃ¡tico
- Texto "Offline"
- Sem animaÃ§Ã£o
```

### 4. Erro

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ âš ï¸  Erro de conexÃ£o com o servidor â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CaracterÃ­sticas:
- Fundo vermelho claro (#FFEBEE)
- Ãcone de aviso
- Texto vermelho (#D32F2F)
- Auto-dismiss em 3s
```

---

## ðŸ”„ AnimaÃ§Ãµes

### 1. Entrada da Tela

```
SequÃªncia:
1. Header: Slide down + Fade in (200ms)
2. Mensagens: Fade in + Expand (300ms)
3. Campo: Slide up + Fade in (400ms)

Easing: FastOutSlowInEasing
```

### 2. Nova Mensagem

```
Efeito:
1. Fade in (300ms)
2. Scale from 0.8 to 1.0
3. Scroll automÃ¡tico suave

Trigger: Nova mensagem recebida/enviada
```

### 3. Indicador de DigitaÃ§Ã£o

```
AnimaÃ§Ã£o dos pontos:
â€¢ â—‹ â—‹  â†’  â—‹ â€¢ â—‹  â†’  â—‹ â—‹ â€¢  â†’  â€¢ â—‹ â—‹

Delay entre pontos: 200ms
Loop: Infinito enquanto digitando
```

### 4. BotÃ£o de Enviar

```
Estado Normal â†’ Hover/Press:
- Scale: 1.0 â†’ 1.1
- Cor: TransiÃ§Ã£o suave (200ms)

ApÃ³s envio:
- Pulso rÃ¡pido
- Retorna ao normal
```

---

## ðŸŽ¨ Paleta de Cores Completa

### Cores PrimÃ¡rias

```
ðŸŸ¢ Verde Principal: #2E7D32
   Uso: Minhas mensagens, botÃµes primÃ¡rios

ðŸŒ¿ Verde Escuro: #1B5E20
   Uso: Gradientes, sombras

ðŸ’  Ciano Accent: #00FF88
   Uso: Destaques, hover effects

ðŸ’  Ciano Alt: #0097A7
   Uso: BotÃ£o FAB de chat
```

### Cores de Fundo

```
â¬œ Branco: #FFFFFF
   Uso: Cards, header

ðŸ”² Cinza Claro: #F5F5F5
   Uso: Fundo geral, telas

ðŸ”³ Cinza Mais Claro: #EEEEEE
   Uso: Gradientes de fundo
```

### Cores de Texto

```
â¬› Preto: #212121
   Uso: Texto principal

ðŸ”˜ Cinza: #757575
   Uso: Texto secundÃ¡rio, timestamps
```

### Cores de Mensagem

```
ðŸŸ© Verde Mensagem: #2E7D32
   Uso: Fundo das minhas mensagens

ðŸ”² Cinza Mensagem: #E8F5E9
   Uso: Fundo mensagens recebidas
```

### Cores de Status

```
ðŸŸ¢ Verde: #4CAF50
   Uso: Online, sucesso

ðŸŸ¡ Amarelo: #FFC107
   Uso: Conectando, aviso

ðŸ”´ Vermelho: #F44336
   Uso: Offline, erro

ðŸ”´ Vermelho Claro: #FFEBEE
   Uso: Fundo de erro

ðŸ”´ Vermelho Escuro: #D32F2F
   Uso: Texto de erro
```

---

## ðŸ“ DimensÃµes e EspaÃ§amentos

### EspaÃ§amentos PadrÃ£o

```
Micro:    4dp   - Entre texto e Ã­cone
Pequeno:  8dp   - Entre elementos prÃ³ximos
MÃ©dio:    12dp  - Entre componentes
Grande:   16dp  - Padding de telas/cards
XGrande:  20dp  - SeÃ§Ãµes principais
XXGrande: 24dp  - TÃ­tulos e headers
```

### Tamanhos de Elementos

```
Avatar:           44dp x 44dp
Ãcones Pequenos:  20dp x 20dp
Ãcones MÃ©dios:    24dp x 24dp
Ãcones Grandes:   40dp x 40dp

BotÃ£o FAB:        48dp x 48dp
Altura mÃ­nima:    48dp (Material Design)

Campo de texto:   min 48dp, max 120dp
```

### Bordas Arredondadas

```
Pequeno:  8dp  - Badges, chips
MÃ©dio:    12dp - BotÃµes
Grande:   16dp - Mensagens, cards
XGrande:  24dp - Campo de entrada

CÃ­rculo:  50%  - Avatares, FABs
```

---

## ðŸ”¤ Tipografia

### Hierarquia de Texto

```
H1 - TÃ­tulo Principal
Size: 24sp
Weight: Bold
Usage: TÃ­tulos de seÃ§Ã£o

H2 - TÃ­tulo SecundÃ¡rio
Size: 20sp
Weight: Bold
Usage: Headers de tela

H3 - SubtÃ­tulo
Size: 18sp
Weight: SemiBold
Usage: Cards importantes

Body - Texto Normal
Size: 15sp
Weight: Regular
Line Height: 20sp
Usage: Mensagens

Caption - Legenda
Size: 12sp
Weight: Regular
Usage: Timestamps, status

Small - Pequeno
Size: 11sp
Weight: Regular
Usage: Info adicional
```

---

## ðŸŒŠ Fluxo de Telas

### NavegaÃ§Ã£o Completa

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Tela InÃ­cio     â”‚
â”‚  (Home)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”‚ Aceitar ServiÃ§o
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Detalhes do     â”‚
â”‚  ServiÃ§o Aceito  â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜
     â”‚        â”‚
     â”‚        â”‚ Abrir LocalizaÃ§Ã£o
     â”‚        â–¼
     â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚   â”‚  Tela de         â”‚
     â”‚   â”‚  Acompanhamento  â”‚
     â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚
     â”‚ Clicar     â”‚ Clicar FAB
     â”‚ "Chat"     â”‚ Chat
     â”‚            â”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  CHAT AO VIVO    â”‚ â† VOCÃŠ ESTÃ AQUI
     â”‚                  â”‚
     â”‚  ðŸ’¬ ConversaÃ§Ã£o  â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“Š Arquitetura Visual

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            UI LAYER                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  TelaChatAoVivo.kt (Composable)      â”‚ â”‚
â”‚  â”‚  - Header                             â”‚ â”‚
â”‚  â”‚  - Lista de Mensagens                 â”‚ â”‚
â”‚  â”‚  - Campo de Entrada                   â”‚ â”‚
â”‚  â”‚  - Indicadores                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ collectAsState()
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         VIEWMODEL LAYER                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ChatViewModel.kt                     â”‚ â”‚
â”‚  â”‚  - StateFlows (messages, status, etc.)â”‚ â”‚
â”‚  â”‚  - initializeChat()                   â”‚ â”‚
â”‚  â”‚  - sendMessage()                      â”‚ â”‚
â”‚  â”‚  - startTypingIndicator()             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Chama mÃ©todos
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         WEBSOCKET LAYER                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ChatSocketManager.kt (Singleton)     â”‚ â”‚
â”‚  â”‚  - Socket.IO Connection               â”‚ â”‚
â”‚  â”‚  - Eventos: send/receive              â”‚ â”‚
â”‚  â”‚  - StateFlows                         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚ Socket.IO
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            SERVIDOR                        â”‚
â”‚  wss://facilita-[...].azurewebsites.net   â”‚
â”‚  - Socket.IO Server                        â”‚
â”‚  - Salas por servicoId                     â”‚
â”‚  - Eventos: user_connected, join_servico   â”‚
â”‚             send_message, receive_message  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸŽ¬ SequÃªncia de Eventos

### Abrir Chat

```
ðŸ‘¤ UsuÃ¡rio          ðŸ“± App               ðŸ”Œ Socket          ðŸ–¥ï¸ Servidor
    |                |                    |                  |
    |--1. Navega---->|                    |                  |
    |                |                    |                  |
    |                |--2. connect()----->|                  |
    |                |                    |--3. connect----->|
    |                |                    |<-4. connected----|
    |                |<-5. Connected------|                  |
    |                |                    |                  |
    |                |--6. registerUser()->|                  |
    |                |                    |--7. user_conn--->|
    |                |                    |                  |
    |                |--8. joinServico()-->|                  |
    |                |                    |--9. join_serv--->|
    |                |                    |                  |
    |<-10. UI Ready--|                    |                  |
```

### Enviar Mensagem

```
ðŸ‘¤ UsuÃ¡rio          ðŸ“± App               ðŸ”Œ Socket          ðŸ–¥ï¸ Servidor
    |                |                    |                  |
    |--1. Digita---->|                    |                  |
    |                |--2. typing(true)-->|                  |
    |                |                    |--3. user_typ---->|
    |                |                    |                  |
    |--4. Envia----->|                    |                  |
    |                |--5. sendMsg()----->|                  |
    |                |                    |--6. send_msg---->|
    |                |<-7. Add local msg--|                  |
    |<-8. VÃª msg-----|                    |                  |
    |                |                    |<-9. msg_sent-----|
    |                |<-10. ConfirmaÃ§Ã£o---|                  |
```

### Receber Mensagem

```
ðŸ‘¤ UsuÃ¡rio          ðŸ“± App               ðŸ”Œ Socket          ðŸ–¥ï¸ Servidor
    |                |                    |                  |
    |                |                    |<-1. rcv_msg------|
    |                |<-2. Nova mensagem--|                  |
    |<-3. UI atualiza|                    |                  |
    |<-4. Scroll auto|                    |                  |
```

---

## ðŸ’¡ Dicas de UX

### Feedback Visual

```
âœ“ Mensagem enviada      â†’ Aparece imediatamente
âœ“ Mensagem recebida     â†’ Scroll automÃ¡tico
âœ“ Erro                  â†’ Card vermelho (3s)
âœ“ Conectando            â†’ Ponto amarelo
âœ“ Online                â†’ Ponto verde
âœ“ Offline               â†’ Ponto vermelho
âœ“ Digitando             â†’ "Nome estÃ¡ digitando..."
```

### Micro-interaÃ§Ãµes

```
âœ“ BotÃ£o de enviar       â†’ Verde quando tem texto
âœ“ Campo de texto        â†’ Borda verde ao focar
âœ“ Mensagens             â†’ Fade in suave
âœ“ Scroll                â†’ AnimaÃ§Ã£o suave
âœ“ Status                â†’ Pulso no indicador
```

---

## ðŸŽ¯ Pontos de AtenÃ§Ã£o

### Performance

```
âœ“ Use LazyColumn para mensagens (virtualizaÃ§Ã£o)
âœ“ Limite recomposiÃ§Ãµes (remember, derivedStateOf)
âœ“ Singleton para WebSocket
âœ“ Coroutines para operaÃ§Ãµes assÃ­ncronas
```

### Acessibilidade

```
âœ“ contentDescription em todos os Ã­cones
âœ“ Cores com contraste adequado (WCAG)
âœ“ Tamanho mÃ­nimo de toque: 48dp
âœ“ Suporte a TalkBack
```

### SeguranÃ§a

```
âœ“ Validar input do usuÃ¡rio
âœ“ Sanitizar mensagens HTML
âœ“ Usar HTTPS/WSS
âœ“ Isolar por servicoId
```

---

**ðŸŽ¨ FIM DO GUIA VISUAL ðŸŽ¨**

_Para mais detalhes tÃ©cnicos, consulte `SISTEMA_CHAT_COMPLETO.md`_

